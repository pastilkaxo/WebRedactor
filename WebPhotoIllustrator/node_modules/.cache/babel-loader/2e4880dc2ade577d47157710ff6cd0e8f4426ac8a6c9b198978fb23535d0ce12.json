{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vladislav\\\\Desktop\\\\WebIllustrator\\\\WebPhotoIllustrator\\\\src\\\\Components\\\\Main\\\\Editor\\\\CanvasFunctions\\\\EditorContent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { fabric } from 'fabric';\nimport Tooltip from '@mui/material/Tooltip';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditorContent({\n  canvasRef,\n  fabricRef,\n  addRectangle,\n  addCircle,\n  setWidth,\n  setHeight,\n  setPointerCords,\n  zoom,\n  setZoom,\n  handleToolClick\n}) {\n  _s();\n  const [isMobile, setIsMobile] = React.useState(false);\n  const [isTablet, setIsTablet] = React.useState(false);\n  const [isDesktop, setIsDesktop] = React.useState(false);\n  useEffect(() => {\n    const checkScreenSize = () => {\n      const width = window.innerWidth;\n      setIsMobile(width <= 768);\n      setIsTablet(width > 768 && width <= 1024);\n      setIsDesktop(width > 1024);\n    };\n    checkScreenSize();\n    window.addEventListener('resize', checkScreenSize);\n    return () => window.removeEventListener('resize', checkScreenSize);\n  }, []);\n  useEffect(() => {\n    if (!canvasRef.current) return;\n\n    // Адаптивные размеры canvas - чем больше экран, тем больше canvas\n    let canvasWidth, canvasHeight;\n    if (isMobile) {\n      canvasWidth = Math.min(window.innerWidth - 20, 600);\n      canvasHeight = Math.min(window.innerHeight - 150, 500);\n    } else if (isTablet) {\n      canvasWidth = Math.min(window.innerWidth - 40, 1000);\n      canvasHeight = Math.min(window.innerHeight - 180, 700);\n    } else if (isDesktop) {\n      canvasWidth = Math.min(window.innerWidth - 250, 1400);\n      canvasHeight = Math.min(window.innerHeight - 200, 900);\n    } else {\n      canvasWidth = 1200;\n      canvasHeight = 800;\n    }\n    const canvas = new fabric.Canvas(canvasRef.current, {\n      width: canvasWidth,\n      height: canvasHeight,\n      backgroundColor: 'white',\n      selection: true,\n      preserveObjectStacking: true\n    });\n    fabricRef.current = canvas;\n    setWidth(canvas.getWidth());\n    setHeight(canvas.getHeight());\n    canvas.renderAll();\n\n    // Улучшенное управление zoom с touch support\n    const handleMouseWheel = e => {\n      e.e.preventDefault();\n      const delta = e.e.deltaY;\n      let zoom = canvas.getZoom();\n      zoom *= 0.999 ** delta;\n      if (zoom > 20) zoom = 20;\n      if (zoom < 0.01) zoom = 0.01;\n      const point = new fabric.Point(e.e.offsetX, e.e.offsetY);\n      canvas.zoomToPoint(point, zoom);\n      setZoom(zoom);\n    };\n\n    // Pan functionality\n    let isDragging = false;\n    let lastPosX = 0;\n    let lastPosY = 0;\n    const handleMouseDown = e => {\n      if (e.e.altKey || e.e.ctrlKey) {\n        isDragging = true;\n        canvas.selection = false;\n        lastPosX = e.e.clientX;\n        lastPosY = e.e.clientY;\n        canvas.setCursor('grab');\n      }\n    };\n    const handleMouseMove = e => {\n      if (isDragging) {\n        const vpt = canvas.viewportTransform;\n        vpt[4] += e.e.clientX - lastPosX;\n        vpt[5] += e.e.clientY - lastPosY;\n        canvas.requestRenderAll();\n        lastPosX = e.e.clientX;\n        lastPosY = e.e.clientY;\n        canvas.setCursor('grabbing');\n      } else {\n        const pointer = canvas.getPointer(e.e);\n        setPointerCords({\n          x: Math.round(pointer.x),\n          y: Math.round(pointer.y)\n        });\n      }\n    };\n    const handleMouseUp = () => {\n      isDragging = false;\n      canvas.selection = true;\n      canvas.setCursor('default');\n    };\n    const handleClearCords = () => {\n      setPointerCords({\n        x: 0,\n        y: 0\n      });\n    };\n\n    // Touch events for mobile\n    let isTouch = false;\n    let lastTouchDistance = 0;\n    const handleTouchStart = e => {\n      if (e.e.touches.length === 2) {\n        isTouch = true;\n        const touch1 = e.e.touches[0];\n        const touch2 = e.e.touches[1];\n        lastTouchDistance = Math.sqrt(Math.pow(touch2.clientX - touch1.clientX, 2) + Math.pow(touch2.clientY - touch1.clientY, 2));\n      }\n    };\n    const handleTouchMove = e => {\n      if (isTouch && e.e.touches.length === 2) {\n        e.e.preventDefault();\n        const touch1 = e.e.touches[0];\n        const touch2 = e.e.touches[1];\n        const currentDistance = Math.sqrt(Math.pow(touch2.clientX - touch1.clientX, 2) + Math.pow(touch2.clientY - touch1.clientY, 2));\n        const scale = currentDistance / lastTouchDistance;\n        let zoom = canvas.getZoom() * scale;\n        if (zoom > 20) zoom = 20;\n        if (zoom < 0.01) zoom = 0.01;\n        const centerX = (touch1.clientX + touch2.clientX) / 2;\n        const centerY = (touch1.clientY + touch2.clientY) / 2;\n        const point = new fabric.Point(centerX, centerY);\n        canvas.zoomToPoint(point, zoom);\n        setZoom(zoom);\n        lastTouchDistance = currentDistance;\n      }\n    };\n    const handleTouchEnd = () => {\n      isTouch = false;\n    };\n\n    // Event listeners\n    canvas.on('mouse:wheel', handleMouseWheel);\n    canvas.on('mouse:down', handleMouseDown);\n    canvas.on('mouse:move', handleMouseMove);\n    canvas.on('mouse:up', handleMouseUp);\n    canvas.on('mouse:out', handleClearCords);\n\n    // Touch events\n    canvas.on('touch:gesture', handleTouchStart);\n    canvas.on('touch:drag', handleTouchMove);\n    canvas.on('touch:orientation', handleTouchEnd);\n    return () => {\n      canvas.dispose();\n    };\n  }, [isMobile, isTablet, isDesktop]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      id: \"tool-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('arrange'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u041F\\u0435\\u0440\\u0435\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/arrange.svg\",\n            alt: \"arrange\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('selection'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0412\\u044B\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/selection.png\",\n            alt: \"selection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('crop'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u041E\\u0431\\u0440\\u0435\\u0437\\u0430\\u043D\\u0438\\u0435\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/crop.png\",\n            alt: \"crop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('figures'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0424\\u0438\\u0433\\u0443\\u0440\\u0430\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/figures.png\",\n            alt: \"figures\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('eraser'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u041B\\u0430\\u0441\\u0442\\u0438\\u043A\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/eraser.png\",\n            alt: \"eraser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('cut'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0412\\u044B\\u0440\\u0435\\u0437\\u0430\\u0442\\u044C\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/cut.png\",\n            alt: \"cut\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('fill'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0417\\u0430\\u043B\\u0438\\u0432\\u043A\\u0430\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/fill.png\",\n            alt: \"fill\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('gradient'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0413\\u0440\\u0430\\u0434\\u0438\\u0435\\u043D\\u0442\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/gradient.png\",\n            alt: \"gradient\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('zoom'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u041B\\u0443\\u043F\\u0430\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/zoom.png\",\n            alt: \"zoom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('picker'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u041F\\u0438\\u043F\\u0435\\u0442\\u043A\\u0430\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/picker.png\",\n            alt: \"picker\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('text'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0422\\u0435\\u043A\\u0441\\u0442\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/text.png\",\n            alt: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('pencil'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u041A\\u0430\\u0440\\u0430\\u043D\\u0434\\u0430\\u0448\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/pencil.png\",\n            alt: \"pencil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('hand'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0420\\u0443\\u043A\\u0430\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/hand.png\",\n            alt: \"hand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('lasso'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0420\\u0443\\u043A\\u0430\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/Images/EditorIcons/lasso.png\",\n            alt: \"lasso\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('brush'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u044B\\u0439 \\u0446\\u0432\\u0435\\u0442\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"color\",\n            id: \"main-color\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"tool-action\",\n        onClick: () => handleToolClick('secondaryColor'),\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u0412\\u0442\\u043E\\u0440\\u0438\\u0447\\u043D\\u044B\\u0439 \\u0446\\u0432\\u0435\\u0442\",\n          arrow: true,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"color\",\n            id: \"secondary-color\",\n            value: \"#ffffff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"canvas-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-container\",\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 4\n  }, this);\n}\n_s(EditorContent, \"nQzOKaE28kFsjSYa97jsjfWqXpE=\");\n_c = EditorContent;\nvar _c;\n$RefreshReg$(_c, \"EditorContent\");","map":{"version":3,"names":["React","useEffect","fabric","Tooltip","jsxDEV","_jsxDEV","EditorContent","canvasRef","fabricRef","addRectangle","addCircle","setWidth","setHeight","setPointerCords","zoom","setZoom","handleToolClick","_s","isMobile","setIsMobile","useState","isTablet","setIsTablet","isDesktop","setIsDesktop","checkScreenSize","width","window","innerWidth","addEventListener","removeEventListener","current","canvasWidth","canvasHeight","Math","min","innerHeight","canvas","Canvas","height","backgroundColor","selection","preserveObjectStacking","getWidth","getHeight","renderAll","handleMouseWheel","e","preventDefault","delta","deltaY","getZoom","point","Point","offsetX","offsetY","zoomToPoint","isDragging","lastPosX","lastPosY","handleMouseDown","altKey","ctrlKey","clientX","clientY","setCursor","handleMouseMove","vpt","viewportTransform","requestRenderAll","pointer","getPointer","x","round","y","handleMouseUp","handleClearCords","isTouch","lastTouchDistance","handleTouchStart","touches","length","touch1","touch2","sqrt","pow","handleTouchMove","currentDistance","scale","centerX","centerY","handleTouchEnd","on","dispose","className","children","id","onClick","title","arrow","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","value","ref","_c","$RefreshReg$"],"sources":["C:/Users/Vladislav/Desktop/WebIllustrator/WebPhotoIllustrator/src/Components/Main/Editor/CanvasFunctions/EditorContent.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { fabric } from 'fabric';\r\nimport Tooltip from '@mui/material/Tooltip';\r\n\r\nexport default function EditorContent({\r\n  canvasRef,\r\n  fabricRef,\r\n  addRectangle,\r\n  addCircle,\r\n  setWidth,\r\n  setHeight,\r\n  setPointerCords,\r\n  zoom,\r\n  setZoom,\r\n  handleToolClick\r\n}) {\r\n\r\n const [isMobile, setIsMobile] = React.useState(false);\r\n  const [isTablet, setIsTablet] = React.useState(false);\r\n  const [isDesktop, setIsDesktop] = React.useState(false);\r\n  \r\n  useEffect(() => {\r\n    const checkScreenSize = () => {\r\n      const width = window.innerWidth;\r\n      setIsMobile(width <= 768);\r\n      setIsTablet(width > 768 && width <= 1024);\r\n      setIsDesktop(width > 1024);\r\n    };\r\n    \r\n    checkScreenSize();\r\n    window.addEventListener('resize', checkScreenSize);\r\n    \r\n    return () => window.removeEventListener('resize', checkScreenSize);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!canvasRef.current) return;\r\n    \r\n    // Адаптивные размеры canvas - чем больше экран, тем больше canvas\r\n    let canvasWidth, canvasHeight;\r\n    \r\n    if (isMobile) {\r\n      canvasWidth = Math.min(window.innerWidth - 20, 600);\r\n      canvasHeight = Math.min(window.innerHeight - 150, 500);\r\n    } else if (isTablet) {\r\n      canvasWidth = Math.min(window.innerWidth - 40, 1000);\r\n      canvasHeight = Math.min(window.innerHeight - 180, 700);\r\n    } else if (isDesktop) {\r\n      canvasWidth = Math.min(window.innerWidth - 250, 1400);\r\n      canvasHeight = Math.min(window.innerHeight - 200, 900);\r\n    } else {\r\n      canvasWidth = 1200;\r\n      canvasHeight = 800;\r\n    }\r\n    \r\n    const canvas = new fabric.Canvas(canvasRef.current, {\r\n      width: canvasWidth,\r\n      height: canvasHeight,\r\n      backgroundColor: 'white',\r\n      selection: true,\r\n      preserveObjectStacking: true\r\n    });\r\n    fabricRef.current = canvas;\r\n    \r\n    setWidth(canvas.getWidth());\r\n    setHeight(canvas.getHeight());\r\n    canvas.renderAll();\r\n\r\n    // Улучшенное управление zoom с touch support\r\n    const handleMouseWheel = (e) => {\r\n      e.e.preventDefault();\r\n      \r\n      const delta = e.e.deltaY;\r\n      let zoom = canvas.getZoom();\r\n      zoom *= 0.999 ** delta;\r\n      \r\n      if (zoom > 20) zoom = 20;\r\n      if (zoom < 0.01) zoom = 0.01;\r\n      \r\n      const point = new fabric.Point(e.e.offsetX, e.e.offsetY);\r\n      canvas.zoomToPoint(point, zoom);\r\n      setZoom(zoom);\r\n    };\r\n\r\n    // Pan functionality\r\n    let isDragging = false;\r\n    let lastPosX = 0;\r\n    let lastPosY = 0;\r\n\r\n    const handleMouseDown = (e) => {\r\n      if (e.e.altKey || e.e.ctrlKey) {\r\n        isDragging = true;\r\n        canvas.selection = false;\r\n        lastPosX = e.e.clientX;\r\n        lastPosY = e.e.clientY;\r\n        canvas.setCursor('grab');\r\n      }\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n      if (isDragging) {\r\n        const vpt = canvas.viewportTransform;\r\n        vpt[4] += e.e.clientX - lastPosX;\r\n        vpt[5] += e.e.clientY - lastPosY;\r\n        canvas.requestRenderAll();\r\n        lastPosX = e.e.clientX;\r\n        lastPosY = e.e.clientY;\r\n        canvas.setCursor('grabbing');\r\n      } else {\r\n        const pointer = canvas.getPointer(e.e);\r\n        setPointerCords({ x: Math.round(pointer.x), y: Math.round(pointer.y) });\r\n      }\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      isDragging = false;\r\n      canvas.selection = true;\r\n      canvas.setCursor('default');\r\n    };\r\n\r\n    const handleClearCords = () => {\r\n      setPointerCords({ x: 0, y: 0 });\r\n    };\r\n\r\n    // Touch events for mobile\r\n    let isTouch = false;\r\n    let lastTouchDistance = 0;\r\n\r\n    const handleTouchStart = (e) => {\r\n      if (e.e.touches.length === 2) {\r\n        isTouch = true;\r\n        const touch1 = e.e.touches[0];\r\n        const touch2 = e.e.touches[1];\r\n        lastTouchDistance = Math.sqrt(\r\n          Math.pow(touch2.clientX - touch1.clientX, 2) +\r\n          Math.pow(touch2.clientY - touch1.clientY, 2)\r\n        );\r\n      }\r\n    };\r\n\r\n    const handleTouchMove = (e) => {\r\n      if (isTouch && e.e.touches.length === 2) {\r\n        e.e.preventDefault();\r\n        const touch1 = e.e.touches[0];\r\n        const touch2 = e.e.touches[1];\r\n        const currentDistance = Math.sqrt(\r\n          Math.pow(touch2.clientX - touch1.clientX, 2) +\r\n          Math.pow(touch2.clientY - touch1.clientY, 2)\r\n        );\r\n\r\n        const scale = currentDistance / lastTouchDistance;\r\n        let zoom = canvas.getZoom() * scale;\r\n\r\n        if (zoom > 20) zoom = 20;\r\n        if (zoom < 0.01) zoom = 0.01;\r\n\r\n        const centerX = (touch1.clientX + touch2.clientX) / 2;\r\n        const centerY = (touch1.clientY + touch2.clientY) / 2;\r\n        const point = new fabric.Point(centerX, centerY);\r\n\r\n        canvas.zoomToPoint(point, zoom);\r\n        setZoom(zoom);\r\n        lastTouchDistance = currentDistance;\r\n      }\r\n    };\r\n\r\n    const handleTouchEnd = () => {\r\n      isTouch = false;\r\n    };\r\n\r\n    // Event listeners\r\n    canvas.on('mouse:wheel', handleMouseWheel);\r\n    canvas.on('mouse:down', handleMouseDown);\r\n    canvas.on('mouse:move', handleMouseMove);\r\n    canvas.on('mouse:up', handleMouseUp);\r\n    canvas.on('mouse:out', handleClearCords);\r\n\r\n    // Touch events\r\n    canvas.on('touch:gesture', handleTouchStart);\r\n    canvas.on('touch:drag', handleTouchMove);\r\n    canvas.on('touch:orientation', handleTouchEnd);\r\n\r\n    return () => {\r\n      canvas.dispose();\r\n    };\r\n  }, [isMobile, isTablet, isDesktop]);\r\n\r\n  return (\r\n   <div className=\"editor-content\">\r\n        <ul id='tool-actions'>\r\n          <li className='tool-action' onClick={() => handleToolClick('arrange')}>\r\n            <Tooltip title=\"Перемещение\" arrow>\r\n             <img src='/Images/EditorIcons/arrange.svg' alt='arrange'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('selection')}>\r\n            <Tooltip title=\"Выделение\" arrow>\r\n              <img src='/Images/EditorIcons/selection.png' alt='selection'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('crop')}>\r\n            <Tooltip title=\"Обрезание\" arrow>\r\n            <img src='/Images/EditorIcons/crop.png' alt='crop'/>  \r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('figures')}>\r\n            <Tooltip title=\"Фигура\" arrow>\r\n            <img src='/Images/EditorIcons/figures.png' alt='figures'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('eraser')}>\r\n            <Tooltip title=\"Ластик\" arrow>\r\n            <img src='/Images/EditorIcons/eraser.png' alt='eraser'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('cut')}>\r\n            <Tooltip title=\"Вырезать\" arrow>\r\n            <img src='/Images/EditorIcons/cut.png' alt='cut'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('fill')}>\r\n            <Tooltip title=\"Заливка\" arrow>\r\n            <img src='/Images/EditorIcons/fill.png' alt='fill'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action'   onClick={() => handleToolClick('gradient')}>\r\n            <Tooltip title=\"Градиент\" arrow>\r\n            <img src='/Images/EditorIcons/gradient.png' alt='gradient'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('zoom')}>\r\n            <Tooltip title=\"Лупа\" arrow>\r\n            <img src='/Images/EditorIcons/zoom.png' alt='zoom'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('picker')}>\r\n            <Tooltip title=\"Пипетка\" arrow>\r\n            <img src='/Images/EditorIcons/picker.png' alt='picker'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('text')}>\r\n            <Tooltip title=\"Текст\" arrow>\r\n            <img src='/Images/EditorIcons/text.png' alt='text'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('pencil')}>\r\n            <Tooltip title=\"Карандаш\" arrow>\r\n            <img src='/Images/EditorIcons/pencil.png' alt='pencil'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('hand')}>\r\n            <Tooltip title=\"Рука\" arrow>\r\n            <img src='/Images/EditorIcons/hand.png' alt='hand'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('lasso')}>\r\n            <Tooltip title=\"Рука\" arrow>\r\n            <img src='/Images/EditorIcons/lasso.png' alt='lasso'/>\r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('brush')}>\r\n            <Tooltip title=\"Главный цвет\" arrow>\r\n              <input type='color' id='main-color' />\r\n              \r\n            </Tooltip>\r\n          </li>\r\n          <li className='tool-action' onClick={() => handleToolClick('secondaryColor')}>\r\n            <Tooltip title=\"Вторичный цвет\" arrow>\r\n              <input type='color' id='secondary-color' value=\"#ffffff\"/>\r\n            </Tooltip>\r\n          </li>\r\n        </ul>\r\n        <div className='canvas-wrapper'>\r\n          <div className='canvas-container'>\r\n            <canvas ref={canvasRef} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}